#!/bin/bash
# This script sets up a virtual environment and installs necessary dependencies.

echo "Setting up Python development environment..."

# Check if the "env" directory already exists
if [ ! -d "env" ]; then
    # Create a virtual environment
    echo "Creating virtual environment..."
    python3 -m venv env
else
    echo "Virtual environment already exists."
fi

# Exit immediately if a command exits with a non-zero status
set -Eeuo pipefail

# Print commands and their arguments as they are executed
# set -x

# Activate the virtual environment
source env/bin/activate

# Install dependencies
echo "Installing dependencies..."
pip install docopt==0.6.2
pip install idna==3.4
pip install pipreqs==0.4.13
pip install requests
pip install urllib3
pip install httpie
pip install PyPortfolioOpt
pip install yfinance
pip install flask
pip install scikit-learn

# Install the current directory as an editable package
pip install -e .

echo "Python development environment setup successful."